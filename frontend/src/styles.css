/* Theme variables */
:root {
  --color-primary: #00897B; /* teal 600 */
  --color-primary-700: #007568;
  --color-secondary: #00ACC1; /* cyan 600 */
  --color-secondary-100: #E6FFFB;
  --color-secondary-200: #B2F5EA;
  --surface: #ffffff;
  --surface-muted: #f3f4f6;
  --text: #0f172a;
  --text-muted: #4b5563;
  --border: #e5e7eb;
}

body {
	min-height: 100vh;
	background: #ffffff;
	overflow-x: hidden; /* Prevenir scrollbar horizontal */
	max-width: 100vw; /* Asegurar que no exceda el viewport */
}

html, body {
	background: #ffffff;
	overflow-x: hidden; /* Prevenir scrollbar horizontal */
	max-width: 100vw; /* Asegurar que no exceda el viewport */
}

/* Asegurar que todos los elementos respeten el ancho del viewport */
* {
  box-sizing: border-box;
}

/* Prevenir que elementos se desborden horizontalmente */
.container, .wrapper, .content {
  max-width: 100vw;
  overflow-x: hidden;
}

/* Estilos globales para menú lateral de usuario - estado activo */
.nav-item.active .mat-mdc-list-item {
  background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%) !important;
  color: #ffffff !important;
  box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3) !important;
}

.nav-item.active .mat-mdc-list-item .mat-mdc-list-item-title {
  color: #ffffff !important;
}

.nav-item.active .mat-mdc-list-item .mat-mdc-list-item-icon {
  color: #ffffff !important;
}

/* Estilos globales para snackbars con colores sólidos */
.mat-mdc-snack-bar-container {
  border-radius: 12px !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25) !important;
  color: #ffffff !important;
  font-weight: 600 !important;
}

/* Quitar el fondo negro por defecto del surface interno y aplicar glass */
.mat-mdc-snack-bar-container .mdc-snackbar__surface {
  background: transparent !important;
  box-shadow: none !important;
}

/* Asegurar que el contenido también sea transparente y legible */
.mat-mdc-snack-bar-container .mat-mdc-snack-bar-label {
  background: transparent !important;
  color: #ffffff !important;
}

.mat-mdc-snack-bar-container .mdc-button__label,
.mat-mdc-snack-bar-container .mat-mdc-snack-bar-label {
  color: #ffffff !important;
}

.mat-mdc-snack-bar-container .mdc-button {
  color: #90caf9 !important;
  font-weight: 600 !important;
}

/* Notificaciones con colores sólidos */
.success-snackbar {
  background: #10b981 !important; /* Verde sólido */
  color: #ffffff !important;
  border: 2px solid #059669 !important;
  border-radius: 12px !important;
  box-shadow: 0 8px 24px rgba(16, 185, 129, 0.4) !important;
  padding: 12px 16px !important;
  font-weight: 600 !important;
}

.error-snackbar {
  background: #ef4444 !important; /* Rojo sólido */
  color: #ffffff !important;
  border: 2px solid #dc2626 !important;
  border-radius: 12px !important;
  box-shadow: 0 8px 24px rgba(239, 68, 68, 0.4) !important;
  padding: 12px 16px !important;
  font-weight: 600 !important;
}

.warning-snackbar {
  background: #f59e0b !important; /* Amarillo sólido */
  color: #ffffff !important;
  border: 2px solid #d97706 !important;
  border-radius: 12px !important;
  box-shadow: 0 8px 24px rgba(245, 158, 11, 0.4) !important;
  padding: 12px 16px !important;
  font-weight: 600 !important;
}

/* Estilos globales para diálogos de login y registro - SIN ANIMACIONES */
.login-dialog .mat-mdc-dialog-container,
.register-dialog .mat-mdc-dialog-container {
  background: transparent !important;
  box-shadow: none !important;
  padding: 0 !important;
  border-radius: 0 !important;
  overflow: visible !important;
  /* SIN animation para evitar el flash gris */
}

.login-dialog .mat-mdc-dialog-surface,
.register-dialog .mat-mdc-dialog-surface {
  background: transparent !important;
  box-shadow: none !important;
  border-radius: 0 !important;
  overflow: visible !important;
}

/* Asegurar que NO haya fondo en ningún nivel del diálogo */
.login-dialog .mat-mdc-dialog-container::before,
.register-dialog .mat-mdc-dialog-container::before,
.login-dialog .mat-mdc-dialog-surface::before,
.register-dialog .mat-mdc-dialog-surface::before {
  display: none !important;
}

/* Fondo del overlay del diálogo - Optimizado */
.cdk-overlay-backdrop {
  background: rgba(0, 0, 0, 0.5) !important;
  backdrop-filter: blur(5px);
  transition: opacity 250ms cubic-bezier(0.4, 0.0, 0.2, 1), 
              backdrop-filter 250ms cubic-bezier(0.4, 0.0, 0.2, 1) !important;
  will-change: opacity !important;
  transform: translateZ(0) !important;
}

/* Animaciones para diálogos */
@keyframes dialogSlideIn {
  0% {
    opacity: 0;
    transform: translateY(-30px) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes backdropFadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

/* Transición suave entre modales */
.cdk-overlay-container {
  transition: all 0.2s ease-in-out;
}

/* Transiciones suaves para backdrop - SIN animaciones */
.cdk-overlay-backdrop.cdk-overlay-backdrop-showing,
.cdk-overlay-backdrop.cdk-overlay-backdrop-hiding {
  transition: opacity 250ms cubic-bezier(0.4, 0.0, 0.2, 1) !important;
  animation: none !important;
}

/* Estilos globales para el diálogo de zoom */
.zoom-dialog .mat-mdc-dialog-container {
  background: transparent !important;
  box-shadow: none !important;
  padding: 0 !important;
}

/* FORZAR SOLO LÍNEA INFERIOR EN TODOS LOS FORM FIELDS - ESTILOS ULTRA AGRESIVOS */
.mat-mdc-form-field .mat-mdc-text-field-wrapper {
  border: none !important;
  border-bottom: 2px solid rgba(0, 137, 123, 0.3) !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  background: transparent !important;
}

.mat-mdc-form-field .mat-mdc-text-field-wrapper .mat-mdc-form-field-outline,
.mat-mdc-form-field .mat-mdc-text-field-wrapper .mat-mdc-form-field-outline-thick,
.mat-mdc-form-field .mat-mdc-text-field-wrapper .mat-mdc-form-field-outline-start,
.mat-mdc-form-field .mat-mdc-text-field-wrapper .mat-mdc-form-field-outline-end,
.mat-mdc-form-field .mat-mdc-text-field-wrapper .mat-mdc-form-field-outline-gap,
.mat-mdc-form-field .mat-mdc-text-field-wrapper .mat-mdc-form-field-outline-notch {
  display: none !important;
}

/* ESTILOS PARA EL ESTADO FOCUSED */
.mat-mdc-form-field.mat-focused .mat-mdc-text-field-wrapper {
  border: none !important;
  border-bottom: 2px solid rgba(0, 172, 193, 0.8) !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  background: transparent !important;
}

.mat-mdc-form-field.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-outline,
.mat-mdc-form-field.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-outline-thick,
.mat-mdc-form-field.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-outline-start,
.mat-mdc-form-field.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-outline-end,
.mat-mdc-form-field.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-outline-gap,
.mat-mdc-form-field.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-outline-notch {
  display: none !important;
}

/* ESTILOS ADICIONALES PARA SOBRESCRIBIR MATERIAL DESIGN */
.mat-mdc-form-field .mat-mdc-form-field-outline {
  display: none !important;
}

.mat-mdc-form-field .mat-mdc-form-field-outline-thick {
  display: none !important;
}

.mat-mdc-form-field .mat-mdc-form-field-outline-start {
  display: none !important;
}

.mat-mdc-form-field .mat-mdc-form-field-outline-end {
  display: none !important;
}

.mat-mdc-form-field .mat-mdc-form-field-outline-gap {
  display: none !important;
}

.mat-mdc-form-field .mat-mdc-form-field-outline-notch {
  display: none !important;
}

.zoom-dialog .mat-mdc-dialog-surface {
  background: transparent !important;
  box-shadow: none !important;
}

html, body { 
  height: 100%; 
  overflow-x: hidden; /* Prevenir scrollbar horizontal */
  max-width: 100vw; /* Asegurar que no exceda el viewport */
}
body { 
  margin: 0; 
  font-family: Roboto, "Helvetica Neue", sans-serif; 
  width: 100%;
  max-width: 100vw;
}

/* Tooltip personalizado para alertas (global, porque se renderiza en overlay) */
.alert-tooltip {
  background: #f1f6fb !important; /* mismo tono claro que la tarjeta */
  color: #111827 !important;      /* texto negro */
  border: 1px solid #e5e7eb !important;
  border-radius: 12px !important;
  padding: 14px 16px !important;
  box-shadow: 0 10px 28px rgba(17, 24, 39, 0.10) !important;
  max-width: 420px !important;
  font-weight: 600 !important;
  font-size: 0.98rem !important;
  line-height: 1.4 !important;
}

.alert-tooltip .mdc-tooltip__surface {
  background: transparent !important;
  color: inherit !important;
  padding: 0 !important; /* ya aplicamos padding en el contenedor */
  box-shadow: none !important;
  white-space: pre-line !important; /* respetar \n en el texto */
  font-weight: 600 !important;      /* simular negrita para etiquetas */
  line-height: 1.5 !important;
}

/* Estilos globales para iconos de acciones en tablas */
.mat-icon-button[color="primary"] .mat-icon {
  color: #1976d2 !important;
}

.mat-icon-button[color="primary"]:hover .mat-icon {
  color: #0d47a1 !important;
}

.mat-icon-button[color="warn"] .mat-icon {
  color: #e53935 !important;
}

.mat-icon-button[color="warn"]:hover .mat-icon {
  color: #b71c1c !important;
}

.mat-icon-button[color="accent"] .mat-icon {
  color: #9c27b0 !important;
}

.mat-icon-button[color="accent"]:hover .mat-icon {
  color: #7b1fa2 !important;
}

/* Selectores más específicos para tablas */
.actions-cell .mat-icon-button[color="primary"] .mat-icon {
  color: #1976d2 !important;
}

.actions-cell .mat-icon-button[color="warn"] .mat-icon {
  color: #e53935 !important;
}

.actions-cell .mat-icon-button[color="accent"] .mat-icon {
  color: #9c27b0 !important;
}

/* Hover para cards de usuarios en reportes */
.mat-mdc-list-item.user-item:hover {
  transform: translateY(-3px) !important;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15) !important;
  background-color: #f8fafc !important;
  border: 1px solid #e2e8f0 !important;
}

/* Selectores ultra específicos para usuarios */
.users-card .mat-mdc-list .mat-mdc-list-item.user-item:hover {
  transform: translateY(-3px) !important;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15) !important;
  background-color: #f8fafc !important;
  border: 1px solid #e2e8f0 !important;
}

/* Hover elegante para cards de usuarios */
.mat-mdc-list-item.user-item:hover {
  transform: translateY(-2px) !important;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12) !important;
  background-color: #f8fafc !important;
  border: 1px solid #e2e8f0 !important;
}

/* Estilos adicionales para overlays - evitar parpadeo */

.cdk-overlay-pane {
  transition: transform 250ms cubic-bezier(0.4, 0.0, 0.2, 1), 
              opacity 250ms cubic-bezier(0.4, 0.0, 0.2, 1) !important;
  will-change: transform, opacity !important;
  transform: translateZ(0) !important;
}

/* Reducir parpadeo en mat-menu - Optimizado */
.mat-mdc-menu-panel {
  transition: opacity 200ms cubic-bezier(0.4, 0.0, 0.2, 1), 
              transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1) !important;
  will-change: opacity, transform !important;
  transform: translateZ(0) !important;
  backface-visibility: hidden !important;
}

/* Reducir parpadeo en mat-dialog - Optimizado */
.mat-mdc-dialog-container {
  transition: opacity 300ms cubic-bezier(0.4, 0.0, 0.2, 1), 
              transform 300ms cubic-bezier(0.4, 0.0, 0.2, 1) !important;
  will-change: opacity, transform !important;
  transform: translateZ(0) !important;
  backface-visibility: hidden !important;
}

/* Evitar parpadeo en tabs */
.mat-mdc-tab-group .mat-mdc-tab-body-wrapper {
  transition: height 200ms ease-in-out !important;
}

/* Optimizar backdrop-filter para reducir parpadeo */
.glass-sidenav, 
[class*="backdrop-blur"] {
  will-change: backdrop-filter !important;
  transform: translateZ(0) !important;
}

/* Splash screen global para prevenir FOUC */
#global-splash {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  transition: opacity 300ms ease-out;
}

#global-splash.fade-out {
  opacity: 0;
  pointer-events: none;
}

#global-splash .spinner {
  width: 50px;
  height: 50px;
  border: 4px solid rgba(255, 255, 255, 0.3);
  border-top: 4px solid white;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

::ng-deep .mat-dialog-container {
  background: transparent !important;
  box-shadow: none !important;
  padding: 0 !important;
}